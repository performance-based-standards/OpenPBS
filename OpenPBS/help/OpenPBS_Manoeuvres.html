<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenPBS.Manoeuvres</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; border: 1px solid #808080; vertical-align: top; }
th      { padding: 2px; border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Manoeuvres<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.Manoeuvres"></a><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>.Manoeuvres</h2>
<p>
</p>
<h3>Package Content</h3>
<table summary="Package Content" class="ModelicaTablePackageContent">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="OpenPBS.Vehicles.Functiond21e565d98b28f2aationS.png" alt="OpenPBS.Manoeuvres.Blocks" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks"
>Blocks</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Vehicles.Functiond21e565d98b28f2aationS.png" alt="OpenPBS.Manoeuvres.Vehicles" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres_Vehicles.html#OpenPBS.Manoeuvres.Vehicles"
>Vehicles</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.SingleLaneChangeS.png" alt="OpenPBS.Manoeuvres.SingleLaneChange" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.SingleLaneChange"
>SingleLaneChange</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.SingleSineSteeringS.png" alt="OpenPBS.Manoeuvres.SingleSineSteering" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.SingleSineSteering"
>SingleSineSteering</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.LowSpeedCurveS.png" alt="OpenPBS.Manoeuvres.LowSpeedCurve" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.LowSpeedCurve"
>LowSpeedCurve</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.LowSpeedCurveS.png" alt="OpenPBS.Manoeuvres.LowSpeedCurve_SaturatedTyre" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.LowSpeedCurve_SaturatedTyre"
>LowSpeedCurve_SaturatedTyre</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.HighSpeedCurveS.png" alt="OpenPBS.Manoeuvres.HighSpeedCurve" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.HighSpeedCurve"
>HighSpeedCurve</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.SteadyStateRollOverS.png" alt="OpenPBS.Manoeuvres.SteadyStateRollOver" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.SteadyStateRollOver"
>SteadyStateRollOver</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.HighSpeedStraightPathS.png" alt="OpenPBS.Manoeuvres.HighSpeedStraightPath" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.HighSpeedStraightPath"
>HighSpeedStraightPath</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.Manoeuvres.LongitudinalS.png" alt="OpenPBS.Manoeuvres.Longitudinal" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.Longitudinal"
>Longitudinal</a>
</td>
<td>&nbsp;</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SingleLaneChange<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.SingleLaneChangeI.png" alt="OpenPBS.Manoeuvres.SingleLaneChange" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.SingleLaneChange"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.SingleLaneChange</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.SingleLaneChangeD.png" alt="OpenPBS.Manoeuvres.SingleLaneChange">
</p>
<h3>Information</h3>

<p><b><span style="font-size: 20pt; color: #0000ff;">HSTO, High Speed Transient Off Tracking</span></b></p>
<p><img src="file:///D:/Users/bengtja.NET/Documents/GitHub/OpenPBS/OpenPBS/Resources/illustrations/HSTO_Description.png"/></p>

<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Frequency</a></td><td>freqHz</td><td>0.4</td><td>Frequency of lateral acceleration in ground coordinates [Hz]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>width</td><td>4.5</td><td>Width of lane change maneuver [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Velocity</a></td><td>vx</td><td>80/3.6</td><td>Longitudinal velocity [m/s]</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>RWA</td><td>Rearward amplification</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>YD</td><td>Yaw damping</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>True if calculations were completed</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HSTO</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> SingleLaneChange
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Modelica.SIunits.Frequency</a> freqHz=0.4 <span class="ModelicaComment">&quot;Frequency of lateral acceleration in ground coordinates&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> width=4.5 <span class="ModelicaComment">&quot;Width of lane change maneuver&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</a> vx=80/3.6 <span class="ModelicaComment">&quot;Longitudinal velocity&quot;</span>;

  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.SingleTrack"
>VehicleModels.SingleTrack</a> vehicle(paramSet=paramSet);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.InverseBlockConstraints"
>Modelica.Blocks.Math.InverseBlockConstraints</a> inverseBlockConstraints;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> velocitySource(k=80/3.6);
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.SinglePeriodSine"
>Blocks.SinglePeriodSine</a> singlePeriodSine(
    startTime=5,
    amplitude=freqHz^2*(width*2*Modelica.Constants.pi),
    freqHz=freqHz);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Der"
>Modelica.Blocks.Continuous.Der</a> der1;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Der"
>Modelica.Blocks.Continuous.Der</a> der2;
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Base.VehicleModel;
  <a href="OpenPBS_Manoeuvres_Blocks_PBS.html#OpenPBS.Manoeuvres.Blocks.PBS.RearWardAmplification"
>Blocks.PBS.RearWardAmplification</a> rearWardAmplification(nu=paramSet.nu);
  <a href="OpenPBS_Manoeuvres_Blocks_PBS.html#OpenPBS.Manoeuvres.Blocks.PBS.Damping"
>Blocks.PBS.Damping</a> damping(nu=paramSet.nu, start_time=singlePeriodSine.startTime
         + 1/singlePeriodSine.freqHz);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> RWA <span class="ModelicaComment">&quot;Rearward amplification&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> YD <span class="ModelicaComment">&quot;Yaw damping&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.And"
>Modelica.Blocks.Logical.And</a> and1;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</a> valid
    <span class="ModelicaComment">&quot;True if calculations were completed&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks_PBS.html#OpenPBS.Manoeuvres.Blocks.PBS.HighSpeedTransientOfftracking"
>Blocks.PBS.HighSpeedTransientOfftracking</a> highSpeedTransientOfftracking(
    nu=paramSet.nu,
    na=paramSet.na,
    width=width);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> HSTO;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(vehicle.delta_in,inverseBlockConstraints. y2);
  <span class="ModelicaFunction">connect</span>(velocitySource.y,vehicle. vx_in);
  <span class="ModelicaFunction">connect</span>(der1.u,vehicle. ry_out[1, 1]);
  <span class="ModelicaFunction">connect</span>(der2.u,der1. y);
  <span class="ModelicaFunction">connect</span>(der2.y,inverseBlockConstraints. u2);
  <span class="ModelicaFunction">connect</span>(inverseBlockConstraints.u1,singlePeriodSine. y);
  <span class="ModelicaFunction">connect</span>(rearWardAmplification.RWA, RWA);
  <span class="ModelicaFunction">connect</span>(damping.D, YD);
  <span class="ModelicaFunction">connect</span>(damping.motion, vehicle.wz_out);
  <span class="ModelicaFunction">connect</span>(rearWardAmplification.motion, vehicle.wz_out);
  <span class="ModelicaFunction">connect</span>(and1.u1, damping.valid);
  <span class="ModelicaFunction">connect</span>(and1.u2, rearWardAmplification.valid);
  <span class="ModelicaFunction">connect</span>(and1.y, valid);
  <span class="ModelicaFunction">connect</span>(highSpeedTransientOfftracking.ry, vehicle.ry_out);
  <span class="ModelicaFunction">connect</span>(highSpeedTransientOfftracking.HSTO, HSTO);
<span class="ModelicaKeyword">end </span>SingleLaneChange;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SingleSineSteering<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.SingleSineSteeringI.png" alt="OpenPBS.Manoeuvres.SingleSineSteering" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.SingleSineSteering"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.SingleSineSteering</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.SingleSineSteeringD.png" alt="OpenPBS.Manoeuvres.SingleSineSteering">
</p>
<h3>Information</h3>

<p><b><span style="font-size: 20pt; color: #0000ff;">RWA, Rearward Amplification</span></b></p>
<p><img src="file:///D:/Users/bengtja.NET/Documents/GitHub/OpenPBS/OpenPBS/Resources/illustrations/RWA_Description.png"/></p>
<h4><span style="color: #0000ff">====================================================================================</span></h4>
<p><b><span style="font-size: 20pt; color: #0000ff;">YD, Yaw Damping</span></b></p>
<p><img src="file:///D:/Users/bengtja.NET/Documents/GitHub/OpenPBS/OpenPBS/Resources/illustrations/YD_Description.png"/></p>

<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Frequency</a></td><td>freqHz</td><td>0.4</td><td>Frequency of lateral acceleration in ground coordinates [Hz]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Velocity</a></td><td>vx</td><td>80/3.6</td><td>Longitudinal velocity [m/s]</td></tr>
<tr><td>Real</td><td>amplitude</td><td>0.050</td><td>Amplitude of sine wave</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>RWA</td><td>Rearward amplification</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>YD</td><td>Yaw damping</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>True if calculations were completed</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> SingleSineSteering
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Modelica.SIunits.Frequency</a> freqHz=0.4 <span class="ModelicaComment">&quot;Frequency of lateral acceleration in ground coordinates&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</a> vx=80/3.6 <span class="ModelicaComment">&quot;Longitudinal velocity&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Real amplitude=0.050 <span class="ModelicaComment">&quot;Amplitude of sine wave&quot;</span>;
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.SingleTrack"
>VehicleModels.SingleTrack</a> vehicle(paramSet=paramSet);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> velocitySource(k=80/3.6);
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.SinglePeriodSine"
>Blocks.SinglePeriodSine</a> singlePeriodSine(
    startTime=5,
    freqHz=freqHz,
    amplitude=amplitude);
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Base.VehicleModel;
  <a href="OpenPBS_Manoeuvres_Blocks_PBS.html#OpenPBS.Manoeuvres.Blocks.PBS.RearWardAmplification"
>Blocks.PBS.RearWardAmplification</a> rearWardAmplification(nu=paramSet.nu);
  <a href="OpenPBS_Manoeuvres_Blocks_PBS.html#OpenPBS.Manoeuvres.Blocks.PBS.Damping"
>Blocks.PBS.Damping</a> damping(nu=paramSet.nu, start_time=singlePeriodSine.startTime
         + 1/singlePeriodSine.freqHz);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> RWA <span class="ModelicaComment">&quot;Rearward amplification&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> YD <span class="ModelicaComment">&quot;Yaw damping&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.And"
>Modelica.Blocks.Logical.And</a> and1;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</a> valid
    <span class="ModelicaComment">&quot;True if calculations were completed&quot;</span>;

<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(velocitySource.y,vehicle. vx_in);
  <span class="ModelicaFunction">connect</span>(rearWardAmplification.RWA, RWA);
  <span class="ModelicaFunction">connect</span>(damping.D, YD);
  <span class="ModelicaFunction">connect</span>(damping.motion, vehicle.wz_out);
  <span class="ModelicaFunction">connect</span>(rearWardAmplification.motion, vehicle.wz_out);
  <span class="ModelicaFunction">connect</span>(and1.u1, damping.valid);
  <span class="ModelicaFunction">connect</span>(and1.u2, rearWardAmplification.valid);
  <span class="ModelicaFunction">connect</span>(and1.y, valid);
  <span class="ModelicaFunction">connect</span>(singlePeriodSine.y, vehicle.delta_in);
<span class="ModelicaKeyword">end </span>SingleSineSteering;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE LowSpeedCurve<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.LowSpeedCurveI.png" alt="OpenPBS.Manoeuvres.LowSpeedCurve" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.LowSpeedCurve"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.LowSpeedCurve</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.LowSpeedCurveD.png" alt="OpenPBS.Manoeuvres.LowSpeedCurve">
</p>
<h3>Information</h3>

<p><b><span style="font-size: 20pt; color: #0000ff;">LSSP, Low Speed Swept Path</span></b></p>
<p><b><span style="font-size: 12pt;">Manoeuvre: </span></b></p>
<ul>
<li>Speed=0+</li>
<li>Friction=High</li>
<li>Unit loading=Max load, evenly distributed</li>
<li>guide: R=12.5 m, 90 deg </li>
</ul>
<p><b><span style="font-size: 12pt;">Measure: </span></b></p>
<p>LSSP=Max perpendicular distance from guide to follower. </p>
<p>Relevant alternatives and selection: </p>
<ul>
<li>guide=FAO, follower=worst of all other [HCTinSWE and OpenPBS] </li>
<li>guide=FBO, follower=worst of all other [approx. Australia] </li>
</ul>
<p><i><b><span style="font-size: 12pt; color: #ff0000;">Present known issues with selected definition: </span></b></i></p>
<ul>
<li><i><span style="color: #ff0000;">Low or high mu? What value if hi (1?), and if low (0.35?)</span></i></li>
<li><i><span style="color: #ff0000;">HCTinSWE and OpenPBS does not punish long overhang, e.g. city buses or &ldquo;nose-built&rdquo; cabins </span></i></li>
<li><i><span style="color: #ff0000;">OpenPBS presently does not saturate axle forces to mu_max*F_z. </span></i></li>
</ul>
<p><img src="file:///D:/Users/bengtja.NET/Documents/GitHub/OpenPBS/OpenPBS/Resources/illustrations/LSSP_Description.png"/></p>
<p>￼</p>

<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>4</td><td>Number of units</td></tr>
<tr><td>Integer</td><td>na</td><td>3</td><td>Number of axles (max across all units)</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>curve_radius</td><td>12.5</td><td>[m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>curve_start</td><td>50</td><td>Distance along path when curve starts [m]</td></tr>
<tr><td>Real</td><td>max_friction</td><td>0.8</td><td>Maximum allowed friction (for friction demand calculation)</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>LSSP</td><td>Low speed swept path</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>True if Yaw damping was successfully calculated</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FS</td><td>Front Swing(rigth side)</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>RS</td><td>Rear swing(rigth side)</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FDST</td><td>Friction demand on steer tyres</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FDDT</td><td>Friction demand on drive tyres</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> LowSpeedCurve
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;

  <span class="ModelicaKeyword">parameter </span>Integer nu=4 <span class="ModelicaComment">&quot;Number of units&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Integer na=3 <span class="ModelicaComment">&quot;Number of axles (max across all units)&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> LSSP <span class="ModelicaComment">&quot;Low speed swept path&quot;</span>;
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPositionRight[nu,na](n0=0, s0=
        vehicle.vehicle.rx0) <span class="ModelicaComment">&quot;Path position of right side wheels&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg[nu,na](radius=curve_radius,
      s_start=curve_start);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.DirectionInput"
>VehicleModels.DirectionInput</a> vehicle(paramSet=paramSet,
    nu=nu,
    na=na);
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Base.VehicleModel;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression3[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vy)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression4[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.pz)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression5[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vx)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPositionLeft[nu,na](s0=vehicle.vehicle.rx0,
      n0=paramSet.w) <span class="ModelicaComment">&quot;Path position of left side wheels&quot;</span>;
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg1[nu,na](radius=
        curve_radius, s_start=curve_start);
  <a href="OpenPBS_Components.html#OpenPBS.Components.MotionOffset"
>Components.MotionOffset</a> motionOffsetLeft[nu,na](x_offset=
        vehicle.vehicle.Lcog, y_offset=paramSet.w/2)
    <span class="ModelicaComment">&quot;Position and velocity of left wheels on all axles&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression7[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.wz)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="OpenPBS_Components.html#OpenPBS.Components.MotionOffset"
>Components.MotionOffset</a> motionOffsetRight[nu,na](x_offset=
        vehicle.vehicle.Lcog, y_offset=-paramSet.w/2)
    <span class="ModelicaComment">&quot;Position and velocity of right wheels on all axles&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a> rollingMax(n1=nu, n2=na)
    <span class="ModelicaComment">&quot;Maximum of all left wheel offsets&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> curve_radius=12.5;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> curve_start=50
    <span class="ModelicaComment">&quot;Distance along path when curve starts&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</a> valid
    <span class="ModelicaComment">&quot;True if Yaw damping was successfully calculated&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.GreaterThreshold"
>Modelica.Blocks.Logical.GreaterThreshold</a> greaterThan(threshold=
        curve_start + curve_radius*Modelica.Constants.pi/2);
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a> rollingMax1(
                               n1=nu, n2=na);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain[nu,na](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.LessThreshold"
>Modelica.Blocks.Logical.LessThreshold</a> lessThan(threshold=0.05);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.And"
>Modelica.Blocks.Logical.And</a> and1;
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition90degCurve"
>Components.PathPosition90degCurve</a> overHangCalculatorRigth[nu,2](
    radius=curve_radius,
    s_start=curve_start,
    s0=vehicle.vehicle.rx0_oh,
    nu=paramSet.nu,
    na=paramSet.na,
    x_offset=vehicle.vehicle.Lcog_oh,
    y_offset=-paramSet.w/2,
    n0=0) <span class="ModelicaComment">&quot;Calculate all overhang positions on the rigth side.&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression9[nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vx)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression10[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vy)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression11[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.wz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression12[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.pz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a>     rollingMax4(
                                   n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all front rigth offsets for each unit&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a>     rollingMax5(
                                   n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all rear rigth offsets for each unit&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain1[nu,1](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain2[nu,1](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FS <span class="ModelicaComment">&quot;Front Swing(rigth side)&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> RS <span class="ModelicaComment">&quot;Rear swing(rigth side)&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks_PBS.html#OpenPBS.Manoeuvres.Blocks.PBS.FrictionDemand"
>Blocks.PBS.FrictionDemand</a> frictionDemand(
    nu=nu,
    na=na,
    driven=paramSet.driven,
    max_friction=max_friction);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression1[nu,
    na](y=vehicle.vehicle.friction_usage);
  <span class="ModelicaKeyword">parameter </span>Real max_friction=0.8
    <span class="ModelicaComment">&quot;Maximum allowed friction (for friction demand calculation)&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FDST <span class="ModelicaComment">&quot;Friction demand on steer tyres&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FDDT <span class="ModelicaComment">&quot;Friction demand on drive tyres&quot;</span>;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(pathPositionRight.s_out, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg.y,pathPositionRight. c);
  <span class="ModelicaFunction">connect</span>(vehicle.vx_in,const. y);
  <span class="ModelicaFunction">connect</span>(pathPositionLeft.s_out, curve90deg1.u);
  <span class="ModelicaFunction">connect</span>(curve90deg1.y,pathPositionLeft. c);
  <span class="ModelicaFunction">connect</span>(realExpression4.y,pathPositionLeft. pz);
  <span class="ModelicaFunction">connect</span>(realExpression5.y, motionOffsetLeft.vx);
  <span class="ModelicaFunction">connect</span>(realExpression3.y, motionOffsetLeft.vy);
  <span class="ModelicaFunction">connect</span>(realExpression7.y, motionOffsetLeft.wz);
  <span class="ModelicaFunction">connect</span>(motionOffsetLeft.vx_offset, pathPositionLeft.vx);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vy_offset, pathPositionRight.vy);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vx_offset, pathPositionRight.vx);
  <span class="ModelicaFunction">connect</span>(pathPositionLeft.n_out, rollingMax.u);
  <span class="ModelicaFunction">connect</span>(rollingMax.y, LSSP);
  <span class="ModelicaFunction">connect</span>(pathPositionRight[1, 1].pp_out, vehicle.front_direction_in);
  <span class="ModelicaFunction">connect</span>(pathPositionRight.pz, realExpression4.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetLeft.vy_offset, pathPositionLeft.vy);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vx, realExpression5.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vy, realExpression3.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.wz, realExpression7.y);
  <span class="ModelicaFunction">connect</span>(greaterThan.u, pathPositionRight[<span class="ModelicaKeyword">end</span>, 1].s_out);
  <span class="ModelicaFunction">connect</span>(gain.y, rollingMax1.u);
  <span class="ModelicaFunction">connect</span>(gain.u, pathPositionRight.n_out);
  <span class="ModelicaFunction">connect</span>(rollingMax1.y, lessThan.u);
  <span class="ModelicaFunction">connect</span>(lessThan.y, and1.u1);
  <span class="ModelicaFunction">connect</span>(greaterThan.y, and1.u2);
  <span class="ModelicaFunction">connect</span>(and1.y, valid);
  <span class="ModelicaFunction">connect</span>(realExpression9.y,overHangCalculatorRigth. vx);
  <span class="ModelicaFunction">connect</span>(realExpression10.y,overHangCalculatorRigth. vy);
  <span class="ModelicaFunction">connect</span>(realExpression11.y,overHangCalculatorRigth. wz);
  <span class="ModelicaFunction">connect</span>(realExpression12.y,overHangCalculatorRigth. pz);
  <span class="ModelicaFunction">connect</span>(rollingMax4.y, FS);
  <span class="ModelicaFunction">connect</span>(rollingMax5.y, RS);
  <span class="ModelicaFunction">connect</span>(gain1.y,rollingMax4. u);
  <span class="ModelicaFunction">connect</span>(overHangCalculatorRigth[:, 2].n_out,gain2 [:, 1].u);
  <span class="ModelicaFunction">connect</span>(gain2.y,rollingMax5. u);
  <span class="ModelicaFunction">connect</span>(gain1[:, 1].u,overHangCalculatorRigth [:, 1].n_out);
  <span class="ModelicaFunction">connect</span>(realExpression1.y, frictionDemand.friction_usage);
  <span class="ModelicaFunction">connect</span>(frictionDemand.FDST, FDST);
  <span class="ModelicaFunction">connect</span>(frictionDemand.FDDT, FDDT);
<span class="ModelicaKeyword">end </span>LowSpeedCurve;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE LowSpeedCurve_SaturatedTyre<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.LowSpeedCurveI.png" alt="OpenPBS.Manoeuvres.LowSpeedCurve_SaturatedTyre" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.LowSpeedCurve_SaturatedTyre"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.LowSpeedCurve_SaturatedTyre</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.LowSpe85e7bb26d93983c9dTyreD.png" alt="OpenPBS.Manoeuvres.LowSpeedCurve_SaturatedTyre">
</p>
<h3>Information</h3>

<p><b><span style="font-size: 20pt; color: #0000ff;">LSSP, Low Speed Swept Path</span></b></p>
<p><b><span style="font-size: 12pt;">Manoeuvre: </span></b></p>
<ul>
<li>Speed=0+</li>
<li>Friction=High</li>
<li>Unit loading=Max load, evenly distributed</li>
<li>guide: R=12.5 m, 90 deg </li>
</ul>
<p><b><span style="font-size: 12pt;">Measure: </span></b></p>
<p>LSSP=Max perpendicular distance from guide to follower. </p>
<p>Relevant alternatives and selection: </p>
<ul>
<li>guide=FAO, follower=worst of all other [HCTinSWE and OpenPBS] </li>
<li>guide=FBO, follower=worst of all other [approx. Australia] </li>
</ul>
<p><i><b><span style="font-size: 12pt; color: #ff0000;">Present known issues with selected definition: </span></b></i></p>
<ul>
<li><i><span style="color: #ff0000;">Low or high mu? What value if hi (1?), and if low (0.35?)</span></i></li>
<li><i><span style="color: #ff0000;">HCTinSWE and OpenPBS does not punish long overhang, e.g. city buses or &ldquo;nose-built&rdquo; cabins </span></i></li>
<li><i><span style="color: #ff0000;">OpenPBS presently does not saturate axle forces to mu_max*F_z. </span></i></li>
</ul>
<p><img src="file:///D:/Users/bengtja.NET/Documents/GitHub/OpenPBS/OpenPBS/Resources/illustrations/LSSP_Description.png"/></p>
<p>￼</p>

<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>4</td><td>Number of units</td></tr>
<tr><td>Integer</td><td>na</td><td>3</td><td>Number of axles (max across all units)</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>curve_radius</td><td>12.5</td><td>[m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>curve_start</td><td>50</td><td>Distance along path when curve starts [m]</td></tr>
<tr><td>Real</td><td>max_friction</td><td>0.3</td><td>Maximum allowed friction (for friction demand calculation)</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>LSSP</td><td>Low speed swept path</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>True if Yaw damping was successfully calculated</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FS</td><td>Front Swing(rigth side)</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>RS</td><td>Rear swing(rigth side)</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FDST</td><td>Friction demand on steer tyres</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FDDT</td><td>Friction demand on drive tyres</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> LowSpeedCurve_SaturatedTyre
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;

  <span class="ModelicaKeyword">parameter </span>Integer nu=4 <span class="ModelicaComment">&quot;Number of units&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Integer na=3 <span class="ModelicaComment">&quot;Number of axles (max across all units)&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> LSSP <span class="ModelicaComment">&quot;Low speed swept path&quot;</span>;
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPositionRight[nu,na](n0=0, s0=
        vehicle.vehicle.rx0) <span class="ModelicaComment">&quot;Path position of right side wheels&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg[nu,na](radius=curve_radius,
      s_start=curve_start);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.DirectionInput_SaturatedTyre"
>VehicleModels.DirectionInput_SaturatedTyre</a>
                               vehicle(paramSet=paramSet,
    nu=nu,
    na=na,
    mu=max_friction);
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Base.VehicleModel;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression3[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vy)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression4[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.pz)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression5[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vx)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPositionLeft[nu,na](s0=vehicle.vehicle.rx0,
      n0=paramSet.w) <span class="ModelicaComment">&quot;Path position of left side wheels&quot;</span>;
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg1[nu,na](radius=
        curve_radius, s_start=curve_start);
  <a href="OpenPBS_Components.html#OpenPBS.Components.MotionOffset"
>Components.MotionOffset</a> motionOffsetLeft[nu,na](x_offset=
        vehicle.vehicle.Lcog, y_offset=paramSet.w/2)
    <span class="ModelicaComment">&quot;Position and velocity of left wheels on all axles&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression7[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.wz)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="OpenPBS_Components.html#OpenPBS.Components.MotionOffset"
>Components.MotionOffset</a> motionOffsetRight[nu,na](x_offset=
        vehicle.vehicle.Lcog, y_offset=-paramSet.w/2)
    <span class="ModelicaComment">&quot;Position and velocity of right wheels on all axles&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a> rollingMax(n1=nu, n2=na)
    <span class="ModelicaComment">&quot;Maximum of all left wheel offsets&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> curve_radius=12.5;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> curve_start=50
    <span class="ModelicaComment">&quot;Distance along path when curve starts&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</a> valid
    <span class="ModelicaComment">&quot;True if Yaw damping was successfully calculated&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.GreaterThreshold"
>Modelica.Blocks.Logical.GreaterThreshold</a> greaterThan(threshold=
        curve_start + curve_radius*Modelica.Constants.pi/2);
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a> rollingMax1(
                               n1=nu, n2=na);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain[nu,na](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.LessThreshold"
>Modelica.Blocks.Logical.LessThreshold</a> lessThan(threshold=0.05);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.And"
>Modelica.Blocks.Logical.And</a> and1;
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition90degCurve"
>Components.PathPosition90degCurve</a> overHangCalculatorRigth[nu,2](
    radius=curve_radius,
    s_start=curve_start,
    s0=vehicle.vehicle.rx0_oh,
    nu=paramSet.nu,
    na=paramSet.na,
    x_offset=vehicle.vehicle.Lcog_oh,
    y_offset=-paramSet.w/2,
    n0=0) <span class="ModelicaComment">&quot;Calculate all overhang positions on the rigth side.&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression9[nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vx)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression10[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vy)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression11[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.wz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression12[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.pz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a>     rollingMax4(
                                   n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all front rigth offsets for each unit&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Blocks.RollingMax</a>     rollingMax5(
                                   n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all rear rigth offsets for each unit&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain1[nu,1](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain2[nu,1](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FS <span class="ModelicaComment">&quot;Front Swing(rigth side)&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> RS <span class="ModelicaComment">&quot;Rear swing(rigth side)&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks_PBS.html#OpenPBS.Manoeuvres.Blocks.PBS.FrictionDemand_New"
>Blocks.PBS.FrictionDemand_New</a>
                            frictionDemand(
    nu=nu,
    na=na,
    driven=paramSet.driven);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression1[nu,
    na](y=vehicle.vehicle.friction_usage);
  <span class="ModelicaKeyword">parameter </span>Real max_friction=0.3
    <span class="ModelicaComment">&quot;Maximum allowed friction (for friction demand calculation)&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FDST <span class="ModelicaComment">&quot;Friction demand on steer tyres&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FDDT <span class="ModelicaComment">&quot;Friction demand on drive tyres&quot;</span>;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(pathPositionRight.s_out, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg.y,pathPositionRight. c);
  <span class="ModelicaFunction">connect</span>(vehicle.vx_in,const. y);
  <span class="ModelicaFunction">connect</span>(pathPositionLeft.s_out, curve90deg1.u);
  <span class="ModelicaFunction">connect</span>(curve90deg1.y,pathPositionLeft. c);
  <span class="ModelicaFunction">connect</span>(realExpression4.y,pathPositionLeft. pz);
  <span class="ModelicaFunction">connect</span>(realExpression5.y, motionOffsetLeft.vx);
  <span class="ModelicaFunction">connect</span>(realExpression3.y, motionOffsetLeft.vy);
  <span class="ModelicaFunction">connect</span>(realExpression7.y, motionOffsetLeft.wz);
  <span class="ModelicaFunction">connect</span>(motionOffsetLeft.vx_offset, pathPositionLeft.vx);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vy_offset, pathPositionRight.vy);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vx_offset, pathPositionRight.vx);
  <span class="ModelicaFunction">connect</span>(pathPositionLeft.n_out, rollingMax.u);
  <span class="ModelicaFunction">connect</span>(rollingMax.y, LSSP);
  <span class="ModelicaFunction">connect</span>(pathPositionRight[1, 1].pp_out, vehicle.front_direction_in);
  <span class="ModelicaFunction">connect</span>(pathPositionRight.pz, realExpression4.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetLeft.vy_offset, pathPositionLeft.vy);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vx, realExpression5.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vy, realExpression3.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.wz, realExpression7.y);
  <span class="ModelicaFunction">connect</span>(greaterThan.u, pathPositionRight[<span class="ModelicaKeyword">end</span>, 1].s_out);
  <span class="ModelicaFunction">connect</span>(gain.y, rollingMax1.u);
  <span class="ModelicaFunction">connect</span>(gain.u, pathPositionRight.n_out);
  <span class="ModelicaFunction">connect</span>(rollingMax1.y, lessThan.u);
  <span class="ModelicaFunction">connect</span>(lessThan.y, and1.u1);
  <span class="ModelicaFunction">connect</span>(greaterThan.y, and1.u2);
  <span class="ModelicaFunction">connect</span>(and1.y, valid);
  <span class="ModelicaFunction">connect</span>(realExpression9.y,overHangCalculatorRigth. vx);
  <span class="ModelicaFunction">connect</span>(realExpression10.y,overHangCalculatorRigth. vy);
  <span class="ModelicaFunction">connect</span>(realExpression11.y,overHangCalculatorRigth. wz);
  <span class="ModelicaFunction">connect</span>(realExpression12.y,overHangCalculatorRigth. pz);
  <span class="ModelicaFunction">connect</span>(rollingMax4.y, FS);
  <span class="ModelicaFunction">connect</span>(rollingMax5.y, RS);
  <span class="ModelicaFunction">connect</span>(gain1.y,rollingMax4. u);
  <span class="ModelicaFunction">connect</span>(overHangCalculatorRigth[:, 2].n_out,gain2 [:, 1].u);
  <span class="ModelicaFunction">connect</span>(gain2.y,rollingMax5. u);
  <span class="ModelicaFunction">connect</span>(gain1[:, 1].u,overHangCalculatorRigth [:, 1].n_out);
  <span class="ModelicaFunction">connect</span>(realExpression1.y, frictionDemand.friction_usage);
  <span class="ModelicaFunction">connect</span>(frictionDemand.FDST, FDST);
  <span class="ModelicaFunction">connect</span>(frictionDemand.FDDT, FDDT);
<span class="ModelicaKeyword">end </span>LowSpeedCurve_SaturatedTyre;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE HighSpeedCurve<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.HighSpeedCurveI.png" alt="OpenPBS.Manoeuvres.HighSpeedCurve" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.HighSpeedCurve"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.HighSpeedCurve</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.HighSpeedCurveD.png" alt="OpenPBS.Manoeuvres.HighSpeedCurve">
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
<tr><td>Integer</td><td>nu</td><td>4</td><td>&nbsp;</td></tr>
<tr><td>Integer</td><td>na</td><td>3</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>curve_radius</td><td>350</td><td>Radius of steady-state curve (at front axle) [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Velocity</a></td><td>velocity</td><td>15</td><td>Velocity reference [m/s]</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HSSO</td><td>&nbsp;</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>True if Yaw damping was successfully calculated</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> HighSpeedCurve
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Base.VehicleModel;
  <span class="ModelicaKeyword">parameter </span>Integer nu=4;
  <span class="ModelicaKeyword">parameter </span>Integer na=3;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> curve_radius=350
    <span class="ModelicaComment">&quot;Radius of steady-state curve (at front axle)&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</a> velocity=15 <span class="ModelicaComment">&quot;Velocity reference&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> velocitySource(k=velocity);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> curvature(k=1/curve_radius);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.CurvatureInput"
>VehicleModels.CurvatureInput</a> vehicle(
    paramSet=paramSet,
    nu=nu,
    na=na);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Division"
>Modelica.Blocks.Math.Division</a> division[nu,na];
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const[nu,na](<span class="ModelicaKeyword">each </span>k=1);

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const1[
                                         nu,na](<span class="ModelicaKeyword">each </span>k=curve_radius);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add[nu,na](k2=-1);
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.InstantMax"
>Blocks.InstantMax</a> instantMax(n1=nu, n2=na);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> HSSO;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</a> valid
    <span class="ModelicaComment">&quot;True if Yaw damping was successfully calculated&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanConstant"
>Modelica.Blocks.Sources.BooleanConstant</a> booleanConstant;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(vehicle.curvature_in, curvature.y);
  <span class="ModelicaFunction">connect</span>(vehicle.vx_in, velocitySource.y);
  <span class="ModelicaFunction">connect</span>(division.u2, vehicle.curvature_out);
  <span class="ModelicaFunction">connect</span>(const.y, division.u1);
  <span class="ModelicaFunction">connect</span>(division.y, add.u1);
  <span class="ModelicaFunction">connect</span>(const1.y, add.u2);
  <span class="ModelicaFunction">connect</span>(add.y, instantMax.u);
  <span class="ModelicaFunction">connect</span>(instantMax.y, HSSO);
  <span class="ModelicaFunction">connect</span>(booleanConstant.y, valid);
<span class="ModelicaKeyword">end </span>HighSpeedCurve;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SteadyStateRollOver<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.SteadyStateRollOverI.png" alt="OpenPBS.Manoeuvres.SteadyStateRollOver" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.SteadyStateRollOver"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.SteadyStateRollOver</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.SteadyStateRollOverD.png" alt="OpenPBS.Manoeuvres.SteadyStateRollOver">
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> SteadyStateRollOver
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Vehicles.Adouble6x4;
<span class="ModelicaKeyword">end </span>SteadyStateRollOver;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE HighSpeedStraightPath<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.HighSpeedStraightPathI.png" alt="OpenPBS.Manoeuvres.HighSpeedStraightPath" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.HighSpeedStraightPath"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.HighSpeedStraightPath</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.HighSpeedStraightPathD.png" alt="OpenPBS.Manoeuvres.HighSpeedStraightPath">
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>paramSet.nu</td><td>&nbsp;</td></tr>
<tr><td>Integer</td><td>na</td><td>paramSet.na</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Velocity</a></td><td>velocity</td><td>15</td><td>Reference velocity [m/s]</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>inclination</td><td>0.05</td><td>Lateral road inclination [rad]</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>TASP</td><td>Swept area when driving on constant crossfall</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> HighSpeedStraightPath
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;

  <span class="ModelicaKeyword">parameter </span>Integer nu=paramSet.nu;
  <span class="ModelicaKeyword">parameter </span>Integer na=paramSet.na;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</a> velocity=15 <span class="ModelicaComment">&quot;Reference velocity&quot;</span>;
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Base.VehicleModel;
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.SingleTrack"
>VehicleModels.SingleTrack</a> vehicle(
    paramSet=paramSet,
    inclination=inclination,
    mode=1);

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.InverseBlockConstraints"
>Modelica.Blocks.Math.InverseBlockConstraints</a> inverseBlockConstraints;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> velocitySource(k=velocity);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=0);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> TASP
    <span class="ModelicaComment">&quot;Swept area when driving on constant crossfall&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> inclination=0.05 <span class="ModelicaComment">&quot;Lateral road inclination&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Abs"
>Modelica.Blocks.Math.Abs</a> abs1;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(vehicle.delta_in,inverseBlockConstraints. y2);
  <span class="ModelicaFunction">connect</span>(velocitySource.y,vehicle. vx_in);
  <span class="ModelicaFunction">connect</span>(const.y, inverseBlockConstraints.u1);
  <span class="ModelicaFunction">connect</span>(vehicle.ry_out[1, 1], inverseBlockConstraints.u2);
  <span class="ModelicaFunction">connect</span>(abs1.y, TASP);
  <span class="ModelicaFunction">connect</span>(abs1.u, vehicle.ry_out[nu, na]);
<span class="ModelicaKeyword">end </span>HighSpeedStraightPath;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Longitudinal<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.Manoeuvres.LongitudinalI.png" alt="OpenPBS.Manoeuvres.Longitudinal" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.Manoeuvres.Longitudinal"></a><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres"
>OpenPBS.Manoeuvres</a>.Longitudinal</h2>
<p>
<br><img src="OpenPBS.Manoeuvres.LongitudinalD.png" alt="OpenPBS.Manoeuvres.Longitudinal">
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>paramSet.nu</td><td>&nbsp;</td></tr>
<tr><td>Integer</td><td>na</td><td>paramSet.na</td><td>&nbsp;</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter OpenPBS....</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>inclination</td><td>0.05</td><td>Lateral road inclination [rad]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Acceleration</a></td><td>acceleration_demand</td><td>0.001</td><td>Required acceleration for startability and gradeability [m/s2]</td></tr>
<tr><td>Real</td><td>distance_target</td><td>100</td><td>Distance target for acceleration capability</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Velocity</a></td><td>vx_gradeability</td><td>15</td><td>Longitudinal velocity for gradeability calculation [m/s]</td></tr>
<tr><td>Real</td><td>friction</td><td>1</td><td>Road friction coefficient</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>S</td><td>Startability</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>G</td><td>gradeability</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>AC</td><td>Acceleration capability</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> Longitudinal
  <span class="ModelicaKeyword">import </span><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>;
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;

  <span class="ModelicaKeyword">parameter </span>Integer nu=paramSet.nu;
  <span class="ModelicaKeyword">parameter </span>Integer na=paramSet.na;
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>OpenPBS.Vehicles.Vehicles.Adouble6x4</a> paramSet
    <span class="ModelicaKeyword">constrainedby </span>OpenPBS.Vehicles.Base.VehicleModel;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> S <span class="ModelicaComment">&quot;Startability&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> inclination=0.05 <span class="ModelicaComment">&quot;Lateral road inclination&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> G <span class="ModelicaComment">&quot;gradeability&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> AC <span class="ModelicaComment">&quot;Acceleration capability&quot;</span>;
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.LongitudinalAccelerationQS"
>VehicleModels.LongitudinalAccelerationQS</a> startability(
    paramSet=paramSet,
    acceleration_demand=acceleration_demand,
    friction=friction);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.LongitudinalAccelerationQS"
>VehicleModels.LongitudinalAccelerationQS</a> gradeability(
    acceleration_demand=0.001,
    paramSet=paramSet,
    vx0=vx_gradeability,
    friction=friction);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.LongitudinalAcceleration"
>VehicleModels.LongitudinalAcceleration</a> longitudinalAcceleration(
    vx0=0,
    paramSet=paramSet,
    friction=friction);
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> acceleration_demand=0.001
    <span class="ModelicaComment">&quot;Required acceleration for startability and gradeability&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.GreaterThreshold"
>Modelica.Blocks.Logical.GreaterThreshold</a> greaterThreshold(threshold=
        distance_target);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</a> valid;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Switch"
>Modelica.Blocks.Logical.Switch</a> switch1;
  <span class="ModelicaKeyword">parameter </span>Real distance_target=100
    <span class="ModelicaComment">&quot;Distance target for acceleration capability&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=0);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const1(k=1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> derivative;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</a> vx_gradeability=15
    <span class="ModelicaComment">&quot;Longitudinal velocity for gradeability calculation&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Real friction=1 <span class="ModelicaComment">&quot;Road friction coefficient&quot;</span>;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(startability.inclination_out, S);
  <span class="ModelicaFunction">connect</span>(gradeability.inclination_out, G);
  <span class="ModelicaFunction">connect</span>(greaterThreshold.u, longitudinalAcceleration.s_out);
  <span class="ModelicaFunction">connect</span>(greaterThreshold.y, valid);
  <span class="ModelicaFunction">connect</span>(switch1.u2, greaterThreshold.y);
  <span class="ModelicaFunction">connect</span>(const.y, switch1.u1);
  <span class="ModelicaFunction">connect</span>(const1.y, switch1.u3);
  <span class="ModelicaFunction">connect</span>(switch1.y, derivative.u);
  <span class="ModelicaFunction">connect</span>(AC, derivative.y);
<span class="ModelicaKeyword">end </span>Longitudinal;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Sun Jul 16 11:16:58 2017.
</address>
</body>
</html>
