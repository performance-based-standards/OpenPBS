<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenPBS.SandBox</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; border: 1px solid #808080; vertical-align: top; }
th      { padding: 2px; border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SandBox<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox"></a><a href="OpenPBS.html#OpenPBS"
>OpenPBS</a>.SandBox</h2>
<p>
</p>
<h3>Package Content</h3>
<table summary="Package Content" class="ModelicaTablePackageContent">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.AccInputS.png" alt="OpenPBS.SandBox.AccInput" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.AccInput"
>AccInput</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPositionS.png" alt="OpenPBS.SandBox.TestPathPosition" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestPathPosition"
>TestPathPosition</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.Curve90deg2S.png" alt="OpenPBS.SandBox.Curve90deg2" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.Curve90deg2"
>Curve90deg2</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.TestPathPosition2" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestPathPosition2"
>TestPathPosition2</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.TestPathPosition3" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestPathPosition3"
>TestPathPosition3</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.TestPathPosition4" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestPathPosition4"
>TestPathPosition4</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.TestCausal" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestCausal"
>TestCausal</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.TestCurvatureSources" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestCurvatureSources"
>TestCurvatureSources</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.TestCausal2" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestCausal2"
>TestCausal2</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.RollSingleUnit" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.RollSingleUnit"
>RollSingleUnit</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.RollTwoNonCoupledUnits" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.RollTwoNonCoupledUnits"
>RollTwoNonCoupledUnits</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.RollTwoCoupledUnits" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.RollTwoCoupledUnits"
>RollTwoCoupledUnits</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.RollThreeCoupledUnits" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.RollThreeCoupledUnits"
>RollThreeCoupledUnits</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.RollVectorized" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.RollVectorized"
>RollVectorized</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.RollVectorizedWithStiffnesses" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.RollVectorizedWithStiffnesses"
>RollVectorizedWithStiffnesses</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.CountConnected" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.CountConnected"
>CountConnected</a>
</td>
<td>Count number of connected true values in boolean vector</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestPathPosition2S.png" alt="OpenPBS.SandBox.MomentCouple" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.MomentCouple"
>MomentCouple</a>
</td>
<td>Determine moment coupled units</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestRegistryParametersS.png" alt="OpenPBS.SandBox.TestRegistryParameters" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestRegistryParameters"
>TestRegistryParameters</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestRecordsS.png" alt="OpenPBS.SandBox.TestRecords" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestRecords"
>TestRecords</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestRecordsS.png" alt="OpenPBS.SandBox.TestRegistryParameters2" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestRegistryParameters2"
>TestRegistryParameters2</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="OpenPBS.SandBox.TestLowSpeedCurveFhRhS.png" alt="OpenPBS.SandBox.TestLowSpeedCurveFhRh" width="20" height="20" align="top">&nbsp;<a href="OpenPBS_SandBox.html#OpenPBS.SandBox.TestLowSpeedCurveFhRh"
>TestLowSpeedCurveFhRh</a>
</td>
<td>Test low speed curve with front and rear overhang</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE AccInput<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.SandBox.AccInputI.png" alt="OpenPBS.SandBox.AccInput" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.SandBox.AccInput"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.AccInput</h2>
<p>
<br><img src="OpenPBS.SandBox.AccInputD.png" alt="OpenPBS.SandBox.AccInput">
</p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>L[nu, na]</td><td>[0, -3, -4.37; 0, -1.3, -2.6...</td><td>[m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>X[nu]</td><td>{-1.3647,2.0656,0.0609,1.7499}</td><td>[m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m[nu]</td><td>{9841,33101,3200,33800}</td><td>Masses [kg]</td></tr>
<tr><td>Integer</td><td>nu</td><td>4</td><td>Number of units</td></tr>
<tr><td>Integer</td><td>na</td><td>3</td><td>Max number of axles per unit</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>a_y_out[vehicle.nu]</td><td>&nbsp;</td></tr>
<tr><td>input <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>a_y_first</td><td>Input signal 1 (u1 = u2)</td></tr>
<tr><td>input <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>vx_in</td><td>First unit velocity input</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> AccInput
  <span class="ModelicaComment">//Single period sine for lateral acceleration</span>
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.SingleTrack"
>VehicleModels.SingleTrack</a> vehicle(steadystate=false,
    L=L,
    X=X,
    m=m,
    nu=nu,
    na=na);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.InverseBlockConstraints"
>Modelica.Blocks.Math.InverseBlockConstraints</a> inverseBlockConstraints;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> a_y_out[vehicle.nu];
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> L[nu,na]=[0,-3,-4.37; 0,-1.3,-2.6; 0,-1.3,
      0; 0,-1.3,-2.6];
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> X[nu]={-1.3647,2.0656,0.0609,1.7499};
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m[nu]={9841,33101,3200,33800} <span class="ModelicaComment">&quot;Masses&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Integer nu=4 <span class="ModelicaComment">&quot;Number of units&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Integer na=3 <span class="ModelicaComment">&quot;Max number of axles per unit&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> a_y_first <span class="ModelicaComment">&quot;Input signal 1 (u1 = u2)&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> vx_in <span class="ModelicaComment">&quot;First unit velocity input&quot;</span>;
<span class="ModelicaKeyword">equation </span>

  a_y_out = vehicle.ay;

  <span class="ModelicaFunction">connect</span>(vehicle.delta_in, inverseBlockConstraints.y2);
  <span class="ModelicaFunction">connect</span>(inverseBlockConstraints.u1, a_y_first);
  <span class="ModelicaFunction">connect</span>(vehicle.vx_in, vx_in);
  <span class="ModelicaFunction">connect</span>(vehicle.ay_out[1, 1], inverseBlockConstraints.u2);
<span class="ModelicaKeyword">end </span>AccInput;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestPathPosition<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestPathPosition"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestPathPosition</h2>
<p>
<br><img src="OpenPBS.SandBox.TestPathPositionD.png" alt="OpenPBS.SandBox.TestPathPosition">
</p>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestPathPosition

  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPosition;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression(y=vehicle.vehicle.vy[1] +
        vehicle.vehicle.Lcog[1, 1]*vehicle.vehicle.wz[1]);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression1(y=vehicle.vehicle.pz[1]);
  <a href="OpenPBS_SandBox.html#OpenPBS.SandBox.AccInput"
>AccInput</a> vehicle;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.MultiProduct"
>Modelica.Blocks.Math.MultiProduct</a> multiProduct(nu=3);
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression3(y=vehicle.vehicle.d_vy[
        1] + vehicle.vehicle.d_wz[1]*vehicle.vehicle.Lcog[1, 1] + vehicle.vehicle.vx[
        1]*vehicle.vehicle.wz[1]);
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(realExpression.y, pathPosition.vy);
  <span class="ModelicaFunction">connect</span>(realExpression1.y, pathPosition.pz);
  <span class="ModelicaFunction">connect</span>(const.y, vehicle.vx_in);
  <span class="ModelicaFunction">connect</span>(const.y, multiProduct.u[1]);
  <span class="ModelicaFunction">connect</span>(const.y, multiProduct.u[2]);
  <span class="ModelicaFunction">connect</span>(pathPosition.vx, const.y);
  <span class="ModelicaFunction">connect</span>(curve90deg.y, pathPosition.c);
  <span class="ModelicaFunction">connect</span>(pathPosition.s_out, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg.y, multiProduct.u[3]);
  <span class="ModelicaFunction">connect</span>(vehicle.a_y_first, multiProduct.y);
<span class="ModelicaKeyword">end </span>TestPathPosition;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Curve90deg2<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.SandBox.Curve90deg2I.png" alt="OpenPBS.SandBox.Curve90deg2" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.SandBox.Curve90deg2"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.Curve90deg2</h2>
<p>
<br><img src="OpenPBS.SandBox.Curve90deg2D.png" alt="OpenPBS.SandBox.Curve90deg2">
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</a> (Single Input Single Output continuous control block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>radius</td><td>12.5</td><td>Curve radius [m]</td></tr>
<tr><td>Real</td><td>s_change</td><td>0.001</td><td>Distance for curvature change</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>s_start</td><td>50</td><td>Position along path when curve starts [m]</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Connector of Real input signal</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>y</td><td>Connector of Real output signal</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">block</span> Curve90deg2
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</a>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> radius=12.5 <span class="ModelicaComment">&quot;Curve radius&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Real s_change=0.001 <span class="ModelicaComment">&quot;Distance for curvature change&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> s_start=50
    <span class="ModelicaComment">&quot;Position along path when curve starts&quot;</span>;

  Real curvature(start=0);
<span class="ModelicaKeyword">protected </span>
  <span class="ModelicaKeyword">parameter </span>Real s_length = radius*Modelica.Constants.pi/2;
  <span class="ModelicaKeyword">parameter </span>Real s0 = 0;
  <span class="ModelicaKeyword">parameter </span>Real s1 = s_start;
  <span class="ModelicaKeyword">parameter </span>Real s2 = s_start + s_change;
  <span class="ModelicaKeyword">parameter </span>Real s3 = s_start + s_change + s_length;
  <span class="ModelicaKeyword">parameter </span>Real s4 = s_start + s_change + s_length + s_change;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaKeyword">when </span><span class="ModelicaFunction">initial</span>()<span class="ModelicaKeyword"> then</span>
    <span class="ModelicaFunction">der</span>(curvature) = 0;
  <span class="ModelicaKeyword">elsewhen </span>u&gt;s1<span class="ModelicaKeyword"> then</span>
    <span class="ModelicaFunction">der</span>(curvature) = (1/radius)/s_change*<span class="ModelicaFunction">der</span>(u);
  <span class="ModelicaKeyword">elsewhen </span>u&gt;s2<span class="ModelicaKeyword"> then</span>
    <span class="ModelicaFunction">der</span>(curvature) = 0;
  <span class="ModelicaKeyword">elsewhen </span>u&gt;s3<span class="ModelicaKeyword"> then</span>
    <span class="ModelicaFunction">der</span>(curvature) = -(1/radius)/s_change*<span class="ModelicaFunction">der</span>(u);
  <span class="ModelicaKeyword">elsewhen </span>u&gt;s4<span class="ModelicaKeyword"> then</span>
    <span class="ModelicaFunction">der</span>(curvature) = 0;
  <span class="ModelicaKeyword">end when</span>;
  y =<span class="ModelicaFunction"> smooth</span>(2,curvature);

<span class="ModelicaKeyword">end </span>Curve90deg2;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestPathPosition2<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestPathPosition2"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestPathPosition2</h2>
<p>
<br><img src="OpenPBS.SandBox.TestPathPosition2D.png" alt="OpenPBS.SandBox.TestPathPosition2">
</p>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestPathPosition2

  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPosition;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression(y=vehicle.vehicle.vy[1] +
        vehicle.vehicle.Lcog[1, 1]*vehicle.vehicle.wz[1]);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression1(y=vehicle.vehicle.pz[1]);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.DirectionInput"
>VehicleModels.DirectionInput</a> vehicle;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="OpenPBS_SandBox.html#OpenPBS.SandBox.Curve90deg2"
>Curve90deg2</a> curve90deg(s_change=0.1);

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression3(y=vehicle.vehicle.d_vy[
        1] + vehicle.vehicle.d_wz[1]*vehicle.vehicle.Lcog[1, 1] + vehicle.vehicle.vx[
        1]*vehicle.vehicle.wz[1]);
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(realExpression.y, pathPosition.vy);
  <span class="ModelicaFunction">connect</span>(realExpression1.y, pathPosition.pz);
  <span class="ModelicaFunction">connect</span>(const.y, vehicle.vx_in);
  <span class="ModelicaFunction">connect</span>(pathPosition.vx, const.y);
  <span class="ModelicaFunction">connect</span>(pathPosition.s_out, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg.y, pathPosition.c);
  <span class="ModelicaFunction">connect</span>(curve90deg.y, vehicle.curvature_in);
<span class="ModelicaKeyword">end </span>TestPathPosition2;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestPathPosition3<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestPathPosition3"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestPathPosition3</h2>
<p>
<br><img src="OpenPBS.SandBox.TestPathPosition3D.png" alt="OpenPBS.SandBox.TestPathPosition3">
</p>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestPathPosition3

  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPosition(s0=0, n0=0);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression(y=vehicle.vy[1] +
        vehicle.Lcog[1, 1]*vehicle.wz[1]);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression1(y=vehicle.pz[1]);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.SingleTrack"
>VehicleModels.SingleTrack</a>
           vehicle(mode=3);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add3"
>Modelica.Blocks.Math.Add3</a> add(
                               k1=-100, k2=-100);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression2(y=vehicle.pz[1] -
        pathPosition.pp);
  <span class="ModelicaKeyword">inner </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Vehicles.Vehicles.Adouble6x4</a> paramSet;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(realExpression.y, pathPosition.vy);
  <span class="ModelicaFunction">connect</span>(realExpression1.y, pathPosition.pz);
  <span class="ModelicaFunction">connect</span>(const.y, vehicle.vx_in);
  <span class="ModelicaFunction">connect</span>(pathPosition.vx, const.y);
  <span class="ModelicaFunction">connect</span>(pathPosition.s_out, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg.y, pathPosition.c);
  <span class="ModelicaFunction">connect</span>(add.u1, pathPosition.n_out);
  <span class="ModelicaFunction">connect</span>(add.u2, pathPosition.d_n_out);
  <span class="ModelicaFunction">connect</span>(add.y, vehicle.delta_in);
  <span class="ModelicaFunction">connect</span>(realExpression2.y, add.u3);
<span class="ModelicaKeyword">end </span>TestPathPosition3;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestPathPosition4<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestPathPosition4"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestPathPosition4</h2>
<p>
<br><img src="OpenPBS.SandBox.TestPathPosition4D.png" alt="OpenPBS.SandBox.TestPathPosition4">
</p>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestPathPosition4

  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPosition(s0=0, n0=0);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression(y=vehicle.vehicle.vy[
        1] + vehicle.vehicle.Lcog[1, 1]*vehicle.vehicle.wz[1]);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression1(y=vehicle.vehicle.pz[
        1]);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=1);
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg;

  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.DirectionInput"
>VehicleModels.DirectionInput</a> vehicle;
  <span class="ModelicaKeyword">inner </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Vehicles.Vehicles.Adouble6x4</a> paramSet;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(realExpression.y, pathPosition.vy);
  <span class="ModelicaFunction">connect</span>(realExpression1.y, pathPosition.pz);
  <span class="ModelicaFunction">connect</span>(pathPosition.vx, const.y);
  <span class="ModelicaFunction">connect</span>(pathPosition.s_out, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg.y, pathPosition.c);
  <span class="ModelicaFunction">connect</span>(vehicle.vx_in, const.y);
  <span class="ModelicaFunction">connect</span>(pathPosition.pp_out, vehicle.front_direction_in);
<span class="ModelicaKeyword">end </span>TestPathPosition4;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestCausal<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestCausal"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestCausal</h2>
<p>
<br><img src="OpenPBS.SandBox.TestCausalD.png" alt="OpenPBS.SandBox.TestCausal">
</p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestCausal

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</a> steerSource(height=0.05, startTime=3);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.SingleTrack"
>VehicleModels.SingleTrack</a> singleTrack(mode=1);
  <span class="ModelicaKeyword">inner </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Vehicles.Vehicles.Adouble6x4</a> paramSet;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(singleTrack.vx_in, const.y);
  <span class="ModelicaFunction">connect</span>(steerSource.y, singleTrack.delta_in);
<span class="ModelicaKeyword">end </span>TestCausal;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestCurvatureSources<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestCurvatureSources"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestCurvatureSources</h2>
<p>
<br><img src="OpenPBS.SandBox.TestCurvatureSourcesD.png" alt="OpenPBS.SandBox.TestCurvatureSources">
</p>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestCurvatureSources

  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg;
  <a href="OpenPBS_SandBox.html#OpenPBS.SandBox.Curve90deg2"
>Curve90deg2</a> curve90deg2_1;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Clock"
>Modelica.Blocks.Sources.Clock</a> clock;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(clock.y, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg2_1.u, clock.y);
<span class="ModelicaKeyword">end </span>TestCurvatureSources;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestCausal2<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestCausal2"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestCausal2</h2>
<p>
<br><img src="OpenPBS.SandBox.TestCausal2D.png" alt="OpenPBS.SandBox.TestCausal2">
</p>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestCausal2

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=1);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.DirectionInput"
>VehicleModels.DirectionInput</a> curvatureInput;
  <a href="OpenPBS_SandBox.html#OpenPBS.SandBox.Curve90deg2"
>Curve90deg2</a> curve90deg2_1;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Clock"
>Modelica.Blocks.Sources.Clock</a> clock;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> integrator;
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(curvatureInput.vx_in, const.y);
  <span class="ModelicaFunction">connect</span>(curve90deg2_1.u, clock.y);
  <span class="ModelicaFunction">connect</span>(curve90deg2_1.y, integrator.u);
  <span class="ModelicaFunction">connect</span>(integrator.y, curvatureInput.front_direction_in);
<span class="ModelicaKeyword">end </span>TestCausal2;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RollSingleUnit<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.RollSingleUnit"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.RollSingleUnit</h2>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m</td><td>25000</td><td>Vehicle mass [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w</td><td>2</td><td>Track width [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h</td><td>2</td><td>C.g. height [m]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> RollSingleUnit

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz1 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz2 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m=25000 <span class="ModelicaComment">&quot;Vehicle mass&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w=2 <span class="ModelicaComment">&quot;Track width&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h=2 <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;
<span class="ModelicaKeyword">equation </span>
  0=m*Modelica.Constants.g_n-Fz1-Fz2;
  0=Fz1*w/2-Fz2*w/2+m*ay*h;

  Fz1=0;
<span class="ModelicaKeyword">end </span>RollSingleUnit;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RollTwoNonCoupledUnits<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.RollTwoNonCoupledUnits"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.RollTwoNonCoupledUnits</h2>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m1</td><td>25000</td><td>Vehicle mass [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m2</td><td>25000</td><td>Vehicle mass [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w1</td><td>2</td><td>Track width [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h1</td><td>2</td><td>C.g. height [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w2</td><td>2</td><td>Track width [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h2</td><td>2</td><td>C.g. height [m]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> RollTwoNonCoupledUnits

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz11 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz12 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz21 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz22 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m1=25000 <span class="ModelicaComment">&quot;Vehicle mass&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m2=25000 <span class="ModelicaComment">&quot;Vehicle mass&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w1=2 <span class="ModelicaComment">&quot;Track width&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h1=2 <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w2=2 <span class="ModelicaComment">&quot;Track width&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h2=2 <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay1 <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay2=ay1 <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> Mx1=0 <span class="ModelicaComment">&quot;Total roll moment on first unit&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> Mx2=0 <span class="ModelicaComment">&quot;Total roll moment on second unit&quot;</span>;
<span class="ModelicaKeyword">equation </span>
  0=m1*Modelica.Constants.g_n-Fz11-Fz12;
  0=m2*Modelica.Constants.g_n-Fz21-Fz22;
  Mx1=Fz11*w1/2-Fz12*w1/2+m1*ay1*h1;
  Mx2=Fz21*w2/2-Fz22*w2/2+m2*ay2*h2;

  <span class="ModelicaFunction">min</span>(Fz11,Fz21)=0;

<span class="ModelicaKeyword">end </span>RollTwoNonCoupledUnits;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RollTwoCoupledUnits<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.RollTwoCoupledUnits"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.RollTwoCoupledUnits</h2>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m1</td><td>25000</td><td>Vehicle mass [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m2</td><td>25000</td><td>Vehicle mass [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w1</td><td>2</td><td>Track width [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h1</td><td>2</td><td>C.g. height [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w2</td><td>2</td><td>Track width [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h2</td><td>2</td><td>C.g. height [m]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> RollTwoCoupledUnits

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz11 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz12 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz21 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz22 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m1=25000 <span class="ModelicaComment">&quot;Vehicle mass&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m2=25000 <span class="ModelicaComment">&quot;Vehicle mass&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w1=2 <span class="ModelicaComment">&quot;Track width&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h1=2 <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w2=2 <span class="ModelicaComment">&quot;Track width&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h2=2 <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay1 <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay2=ay1 <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;

<span class="ModelicaComment">//   Modelica.SIunits.Torque Mx1 &quot;Total roll moment on first unit&quot;;</span>
<span class="ModelicaComment">//   Modelica.SIunits.Torque Mx2 &quot;Total roll moment on second unit&quot;;</span>

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> Mxc <span class="ModelicaComment">&quot;Coupling roll moment&quot;</span>;

<span class="ModelicaKeyword">equation </span>
  0=m1*Modelica.Constants.g_n-Fz11-Fz12;
  0=m2*Modelica.Constants.g_n-Fz21-Fz22;
  0=Fz11*w1/2-Fz12*w1/2+m1*ay1*h1+Mxc;
  0=Fz21*w2/2-Fz22*w2/2+m2*ay2*h2-Mxc;

  <span class="ModelicaComment">//min(Fz11,Fz21)=0;</span>
  Fz11=0;
  Fz21=0;

<span class="ModelicaKeyword">end </span>RollTwoCoupledUnits;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RollThreeCoupledUnits<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.RollThreeCoupledUnits"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.RollThreeCoupledUnits</h2>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m1</td><td>25000</td><td>Vehicle mass [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m2</td><td>25000</td><td>Vehicle mass [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w1</td><td>2</td><td>Track width [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h1</td><td>2</td><td>C.g. height [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w2</td><td>2</td><td>Track width [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h2</td><td>2</td><td>C.g. height [m]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> RollThreeCoupledUnits

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz11 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz12 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz21 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz22 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz31 <span class="ModelicaComment">&quot;Left side vertical force&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> Fz32 <span class="ModelicaComment">&quot;Right side vertical force&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m1=25000 <span class="ModelicaComment">&quot;Vehicle mass&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m2=25000 <span class="ModelicaComment">&quot;Vehicle mass&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w1=2 <span class="ModelicaComment">&quot;Track width&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h1=2 <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w2=2 <span class="ModelicaComment">&quot;Track width&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h2=2 <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay1 <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay2=ay1 <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;

<span class="ModelicaComment">//   Modelica.SIunits.Torque Mx1 &quot;Total roll moment on first unit&quot;;</span>
<span class="ModelicaComment">//   Modelica.SIunits.Torque Mx2 &quot;Total roll moment on second unit&quot;;</span>

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> Mxc <span class="ModelicaComment">&quot;Coupling roll moment&quot;</span>;

<span class="ModelicaKeyword">equation </span>
  0=m1*Modelica.Constants.g_n-Fz11-Fz12;
  0=m2*Modelica.Constants.g_n-Fz21-Fz22;
  0=Fz11*w1/2-Fz12*w1/2+m1*ay1*h1+Mxc;
  0=Fz21*w2/2-Fz22*w2/2+m2*ay2*h2-Mxc;

  <span class="ModelicaComment">//min(Fz11,Fz21)=0;</span>
  Fz11=0;
  Fz21=0;

<span class="ModelicaKeyword">end </span>RollThreeCoupledUnits;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RollVectorized<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.RollVectorized"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.RollVectorized</h2>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>3</td><td>Number of units</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m[nu]</td><td>23000*ones(nu)</td><td>Total mass of each unit [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w[nu]</td><td>2*ones(nu)</td><td>Track width (average for the axles on each unit) [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h[nu]</td><td>2*ones(nu)</td><td>C.g. height [m]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> RollVectorized

  <span class="ModelicaKeyword">parameter </span>Integer nu = 3 <span class="ModelicaComment">&quot;Number of units&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> FzOuter[nu]
    <span class="ModelicaComment">&quot;Total vertical load on outer wheels of each unit&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> FzInner[nu]
    <span class="ModelicaComment">&quot;Total vertical load on inner wheels of each unit&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m[nu]=23000*<span class="ModelicaFunction">ones</span>(nu)
    <span class="ModelicaComment">&quot;Total mass of each unit&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w[nu]=2*<span class="ModelicaFunction">ones</span>(nu)
    <span class="ModelicaComment">&quot;Track width (average for the axles on each unit)&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h[nu]=2*<span class="ModelicaFunction">ones</span>(nu) <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay_in=time;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay[nu]=ay_in*<span class="ModelicaFunction">ones</span>(nu)
    <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;

  <span class="ModelicaComment">//Modelica.SIunits.Torque Mx[nu] &quot;Total roll moment per unit&quot;;</span>

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> Mxc[nu-1] <span class="ModelicaComment">&quot;Moment sums for coupled systems&quot;</span>;
  <span class="ModelicaComment">                                     //=OpenPBS.SandBox.MomentCouple(nu, 2, roll_couple, Mx)</span>

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> phix[nu];
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.RotationalSpringConstant"
>Modelica.SIunits.RotationalSpringConstant</a> kc[nu]={100000,100000,100000};

<span class="ModelicaComment">//   Boolean roll_couple[nu-1]={true,false}</span>
<span class="ModelicaComment">//     &quot;True if coupling transfers roll moment&quot;;</span>
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">zeros</span>(nu) = m*Modelica.Constants.g_n-FzInner-FzOuter;

  <span class="ModelicaFunction">zeros</span>(nu) =<span class="ModelicaFunction"> vector</span>(<span class="ModelicaFunction">matrix</span>(FzInner.*w/2-FzOuter.*w/2+m.*ay.*h)-([{0};(Mxc)])+([(Mxc);{0}]));

<span class="ModelicaComment">//   Mxc = phic.*kc;</span>

  (FzInner-FzOuter).*w./2=phix.*kc;

  phix[1:<span class="ModelicaKeyword">end</span>-1]=<span class="ModelicaFunction">zeros</span>(nu-1);

<span class="ModelicaComment">//   for i in 1:nu-1 loop</span>
<span class="ModelicaComment">//     FzInner[i]=FzInner[i+1];</span>
<span class="ModelicaComment">//     FzOuter[i]=FzOuter[i+1];</span>
<span class="ModelicaComment">//   end for;</span>

  <span class="ModelicaComment">//Mx = zeros(nu);</span>

  <span class="ModelicaComment">//min(FzInner)=0;</span>

  <span class="ModelicaComment">// FzInner[1]=0;</span>
  <span class="ModelicaComment">// FzInner[2]=0;</span>
  <span class="ModelicaComment">// FzInner[3]=0;</span>

<span class="ModelicaKeyword">end </span>RollVectorized;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RollVectorizedWithStiffnesses<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.RollVectorizedWithStiffnesses"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.RollVectorizedWithStiffnesses</h2>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>3</td><td>Number of units</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</a></td><td>m[nu]</td><td>{23000,23000,23000}</td><td>Total mass of each unit [kg]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>w[nu]</td><td>2*ones(nu)</td><td>Track width (average for the axles on each unit) [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>h[nu]</td><td>{2,2,2}</td><td>C.g. height [m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.RotationalSpringConstant"
>RotationalSpringConstant</a></td><td>kc[nu]</td><td>{5000000,5000000,5000000}</td><td>Roll stiffness [N.m/rad]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>rollcenter[nu]</td><td>zeros(nu)</td><td>Roll center height [m]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> RollVectorizedWithStiffnesses

  <span class="ModelicaKeyword">parameter </span>Integer nu = 3 <span class="ModelicaComment">&quot;Number of units&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> FzOuter[nu]
    <span class="ModelicaComment">&quot;Total vertical load on outer wheels of each unit&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</a> FzInner[nu]
    <span class="ModelicaComment">&quot;Total vertical load on inner wheels of each unit&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</a> m[nu]={23000,23000,23000}
    <span class="ModelicaComment">&quot;Total mass of each unit&quot;</span>;

  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w[nu]=2*<span class="ModelicaFunction">ones</span>(nu)
    <span class="ModelicaComment">&quot;Track width (average for the axles on each unit)&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> h[nu]={2,2,2} <span class="ModelicaComment">&quot;C.g. height&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay_in=time;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</a> ay[nu]=ay_in*<span class="ModelicaFunction">ones</span>(nu)
    <span class="ModelicaComment">&quot;Lateral acceleration&quot;</span>;

  <span class="ModelicaComment">//Modelica.SIunits.Torque Mx[nu] &quot;Total roll moment per unit&quot;;</span>

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> Mxc[nu-1] <span class="ModelicaComment">&quot;Moment sums for coupled systems&quot;</span>;
  <span class="ModelicaComment">                                     //=OpenPBS.SandBox.MomentCouple(nu, 2, roll_couple, Mx)</span>

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> phix[nu] <span class="ModelicaComment">&quot;Roll angle&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.RotationalSpringConstant"
>Modelica.SIunits.RotationalSpringConstant</a> kc[nu]={5000000,5000000,5000000}
    <span class="ModelicaComment">&quot;Roll stiffness&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> rollcenter[nu]=<span class="ModelicaFunction">zeros</span>(nu)
    <span class="ModelicaComment">&quot;Roll center height&quot;</span>;

   Boolean roll_couple[nu-1]={true,false}
    <span class="ModelicaComment">&quot;True if coupling transfers roll moment&quot;</span>;

<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">zeros</span>(nu) = m*Modelica.Constants.g_n-FzInner-FzOuter;

  <span class="ModelicaFunction">zeros</span>(nu) =<span class="ModelicaFunction"> vector</span>(<span class="ModelicaFunction">matrix</span>(FzInner.*w/2-FzOuter.*w/2+m.*ay.*h+m*Modelica.Constants.g_n.*phix.*(h-rollcenter))-([{0};(Mxc)])+([(Mxc);{0}]));

<span class="ModelicaComment">//   Mxc = phic.*kc;</span>

  (FzInner-FzOuter).*w./2=-phix.*kc;

  <span class="ModelicaKeyword">for </span>i<span class="ModelicaKeyword"> in </span>1:(nu-1)<span class="ModelicaKeyword"> loop</span>
    <span class="ModelicaKeyword">if </span>roll_couple[i]<span class="ModelicaKeyword"> then</span>
      phix[i]=phix[i+1];
    <span class="ModelicaKeyword">else</span>
      Mxc[i]=0;
    <span class="ModelicaKeyword">end if</span>;
  <span class="ModelicaKeyword">end for</span>;

<span class="ModelicaComment">//   for i in 1:nu-1 loop</span>
<span class="ModelicaComment">//     FzInner[i]=FzInner[i+1];</span>
<span class="ModelicaComment">//     FzOuter[i]=FzOuter[i+1];</span>
<span class="ModelicaComment">//   end for;</span>

  <span class="ModelicaComment">//Mx = zeros(nu);</span>

<span class="ModelicaComment">//   min(FzInner)=0;</span>

  <span class="ModelicaComment">// FzInner[1]=0;</span>
  <span class="ModelicaComment">// FzInner[2]=0;</span>
  <span class="ModelicaComment">// FzInner[3]=0;</span>

<span class="ModelicaKeyword">end </span>RollVectorizedWithStiffnesses;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CountConnected<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.CountConnected"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.CountConnected</h2>
<p>
<span class="ModelicaDescription">Count number of connected true values in boolean vector</span>
</p>
<h3>Inputs</h3>
<table summary="Inputs" class="ModelicaTableInputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>b[:]</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<h3>Outputs</h3>
<table summary="Outputs" class="ModelicaTableOutputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Integer</td><td>n</td><td>Number of connected sets</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">function</span> CountConnected
  <span class="ModelicaComment">&quot;Count number of connected true values in boolean vector&quot;</span>
  <span class="ModelicaKeyword">input </span>Boolean b[:];

  <span class="ModelicaKeyword">output </span>Integer n <span class="ModelicaComment">&quot;Number of connected sets&quot;</span>;
<span class="ModelicaKeyword">algorithm </span>
  n:=1;
  <span class="ModelicaKeyword">for </span>i<span class="ModelicaKeyword"> in </span>2:<span class="ModelicaFunction">length</span>(b)<span class="ModelicaKeyword"> loop</span>
    <span class="ModelicaKeyword">if </span>b[i]<span class="ModelicaKeyword"> and </span><span class="ModelicaKeyword">not </span>b[i-1]<span class="ModelicaKeyword"> then</span>
      n:=n + 1;
    <span class="ModelicaKeyword">end if</span>;
  <span class="ModelicaKeyword">end for</span>;
<span class="ModelicaKeyword">end </span>CountConnected;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE MomentCouple<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.MomentCouple"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.MomentCouple</h2>
<p>
<span class="ModelicaDescription">Determine moment coupled units</span>
</p>
<h3>Inputs</h3>
<table summary="Inputs" class="ModelicaTableInputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>Integer</td><td>nc</td><td>&nbsp;</td><td>Number of coupled systems</td></tr>
<tr><td>Boolean</td><td>roll_couple[nu - 1]</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Torque</a></td><td>M[nu]</td><td>&nbsp;</td><td>[N.m]</td></tr>
</table>
<h3>Outputs</h3>
<table summary="Outputs" class="ModelicaTableOutputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Torque</a></td><td>Msum[nc]</td><td>[N.m]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">function</span> MomentCouple <span class="ModelicaComment">&quot;Determine moment coupled units&quot;</span>
  <span class="ModelicaKeyword">input </span>Integer nu;
  <span class="ModelicaKeyword">input </span>Integer nc <span class="ModelicaComment">&quot;Number of coupled systems&quot;</span>;
  <span class="ModelicaKeyword">input </span>Boolean[nu-1] roll_couple;

  <span class="ModelicaKeyword">input </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> M[nu];

  <span class="ModelicaKeyword">output </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Torque"
>Modelica.SIunits.Torque</a> Msum[nc];
<span class="ModelicaKeyword">protected </span>
  Integer i,j;
<span class="ModelicaKeyword">algorithm </span>
  i:=1;
  j:=1;
  Msum[i] := M[j] <span class="ModelicaComment">&quot;First group always includes first unit&quot;</span>;
  <span class="ModelicaKeyword">for </span>i<span class="ModelicaKeyword"> in </span>1:nu-1<span class="ModelicaKeyword"> loop</span>
    <span class="ModelicaKeyword">if </span>roll_couple[i]<span class="ModelicaKeyword"> then</span>
      Msum[j] :=Msum[j] + M[i + 1];
    <span class="ModelicaKeyword">else</span>
      j:=j + 1;
      Msum[j] :=M[i + 1];
    <span class="ModelicaKeyword">end if</span>;
  <span class="ModelicaKeyword">end for</span>;

<span class="ModelicaKeyword">end </span>MomentCouple;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestRegistryParameters<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.SandBox.TestRegistryParametersI.png" alt="OpenPBS.SandBox.TestRegistryParameters" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.SandBox.TestRegistryParameters"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestRegistryParameters</h2>
<p>
<br><img src="OpenPBS.SandBox.TestRegistryParametersD.png" alt="OpenPBS.SandBox.TestRegistryParameters">
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.LowSpeedCurve"
>Manoeuvres.LowSpeedCurve</a>.</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>2</td><td>Number of units</td></tr>
<tr><td>Integer</td><td>na</td><td>3</td><td>Number of axles (max across all units)</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>OpenPBS.Vehicles.Functions.M...</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>curve_radius</td><td>12.5</td><td>[m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>curve_start</td><td>50</td><td>Distance along path when curve starts [m]</td></tr>
<tr><td>Real</td><td>max_friction</td><td>0.8</td><td>Maximum allowed friction (for friction demand calculation)</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.SLX394"
>SLX394</a></td><td>tractorParam</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.CNC134"
>CNC134</a></td><td>semitrailerParam</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>LSSP</td><td>Low speed swept path</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>True if Yaw damping was successfully calculated</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FS</td><td>Front Swing(rigth side)</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>RS</td><td>Rear swing(rigth side)</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FDST</td><td>Friction demand on steer tyres</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FDDT</td><td>Friction demand on drive tyres</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestRegistryParameters
  <span class="ModelicaKeyword">extends </span><a href="OpenPBS_Manoeuvres.html#OpenPBS.Manoeuvres.LowSpeedCurve"
>Manoeuvres.LowSpeedCurve</a>(
    <span class="ModelicaKeyword">final </span>paramSet=<span class="ModelicaFunction">OpenPBS.Vehicles.Functions.ModelParametersFromSpecification</span>(
        nu=2,
        na=3,
        specification={tractorParam,semitrailerParam}),
    vehicle(paramSet=paramSet),
    nu=2,
    na=3);
  <span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.SLX394"
>Vehicles.Vehicles.FromRegistry.SLX394</a> tractorParam;
  <span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.CNC134"
>Vehicles.Vehicles.FromRegistry.CNC134</a> semitrailerParam;
<span class="ModelicaKeyword">end </span>TestRegistryParameters;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestRecords<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestRecords"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestRecords</h2>
<p>
<br><img src="OpenPBS.SandBox.TestRecordsD.png" alt="OpenPBS.SandBox.TestRecords">
</p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>2</td><td>&nbsp;</td></tr>
<tr><td>Integer</td><td>na</td><td>3</td><td>&nbsp;</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Base.html#OpenPBS.Vehicles.Base.VehicleModel"
>VehicleModel</a></td><td>paramSet</td><td>OpenPBS.Vehicles.Functions.M...</td><td>&nbsp;</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.SLX394"
>SLX394</a></td><td>tractorParam</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.CNC134"
>CNC134</a></td><td>semitrailerParam</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestRecords
  <span class="ModelicaKeyword">parameter </span>Integer nu=2;
  <span class="ModelicaKeyword">parameter </span>Integer na=3;

  <span class="ModelicaKeyword">inner </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Base.html#OpenPBS.Vehicles.Base.VehicleModel"
>OpenPBS.Vehicles.Base.VehicleModel</a> paramSet=
      <span class="ModelicaFunction">OpenPBS.Vehicles.Functions.ModelParametersFromSpecification</span>(
      nu=2,
      na=3,
      specification={tractorParam,semitrailerParam});
  <span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.SLX394"
>OpenPBS.Vehicles.Vehicles.FromRegistry.SLX394</a> tractorParam;
  <span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.CNC134"
>OpenPBS.Vehicles.Vehicles.FromRegistry.CNC134</a> semitrailerParam;
<span class="ModelicaKeyword">end </span>TestRecords;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestRegistryParameters2<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="OpenPBS.SandBox.TestRegistryParameters2"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestRegistryParameters2</h2>
<p>
<br><img src="OpenPBS.SandBox.TestRegistryParameters2D.png" alt="OpenPBS.SandBox.TestRegistryParameters2">
</p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="OpenPBS_Vehicles_Base.html#OpenPBS.Vehicles.Base.VehicleModel"
>VehicleModel</a></td><td>paramSet</td><td>OpenPBS.Vehicles.Functions.M...</td><td>&nbsp;</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.SLX394"
>SLX394</a></td><td>tractorParam</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.CNC134"
>CNC134</a></td><td>semitrailerParam</td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestRegistryParameters2

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.DirectionInput"
>VehicleModels.DirectionInput</a> vehicle(
    paramSet=paramSet,
    nu=2,
    na=3);
  <span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Base.html#OpenPBS.Vehicles.Base.VehicleModel"
>Vehicles.Base.VehicleModel</a> paramSet=
      <span class="ModelicaFunction">OpenPBS.Vehicles.Functions.ModelParametersFromSpecification</span>(
      nu=2,
      na=3,
      specification={tractorParam,semitrailerParam});
  <span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.SLX394"
>Vehicles.Vehicles.FromRegistry.SLX394</a> tractorParam;
  <span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles_FromRegistry.html#OpenPBS.Vehicles.Vehicles.FromRegistry.CNC134"
>Vehicles.Vehicles.FromRegistry.CNC134</a> semitrailerParam;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const1(k=0);
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(vehicle.vx_in,const. y);
  <span class="ModelicaFunction">connect</span>(const1.y, vehicle.front_direction_in);
<span class="ModelicaKeyword">end </span>TestRegistryParameters2;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TestLowSpeedCurveFhRh<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="OpenPBS.SandBox.TestLowSpeedCurveFhRhI.png" alt="OpenPBS.SandBox.TestLowSpeedCurveFhRh" align="right" style="border: 1px solid" width="80" height="80">
<a name="OpenPBS.SandBox.TestLowSpeedCurveFhRh"></a><a href="OpenPBS_SandBox.html#OpenPBS.SandBox"
>OpenPBS.SandBox</a>.TestLowSpeedCurveFhRh</h2>
<p>
<span class="ModelicaDescription">Test low speed curve with front and rear overhang</span>
<br>
<br><img src="OpenPBS.SandBox.TestLowSpeedCurveFhRhD.png" alt="OpenPBS.SandBox.TestLowSpeedCurveFhRh">
</p>
<h3>Information</h3>

<p><b><span style="font-size: 20pt; color: #0000ff;">LSSP, Low Speed Swept Path</span></b></p>
<p><b><span style="font-size: 12pt;">Manoeuvre: </span></b></p>
<ul>
<li>Speed=0+</li>
<li>Friction=High</li>
<li>Unit loading=Max load, evenly distributed</li>
<li>guide: R=12.5 m, 90 deg </li>
</ul>
<p><b><span style="font-size: 12pt;">Measure: </span></b></p>
<p>LSSP=Max perpendicular distance from guide to follower. </p>
<p>Relevant alternatives and selection: </p>
<ul>
<li>guide=FAO, follower=worst of all other [HCTinSWE and OpenPBS] </li>
<li>guide=FBO, follower=worst of all other [approx. Australia] </li>
</ul>
<p><i><b><span style="font-size: 12pt; color: #ff0000;">Present known issues with selected definition: </span></b></i></p>
<ul>
<li><i><span style="color: #ff0000;">Low or high mu? What value if hi (1?), and if low (0.35?)</span></i></li>
<li><i><span style="color: #ff0000;">HCTinSWE and OpenPBS does not punish long overhang, e.g. city buses or &ldquo;nose-built&rdquo; cabins </span></i></li>
<li><i><span style="color: #ff0000;">OpenPBS presently does not saturate axle forces to mu_max*F_z. </span></i></li>
</ul>
<p><img src="file:///D:/Users/bengtja.NET/Documents/GitHub/OpenPBS/OpenPBS/Resources/illustrations/LSSP_Description.png"/></p>
<p></p>

<p><span class="ModelicaBaseClass">Extends from <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nu</td><td>4</td><td>Number of units</td></tr>
<tr><td>Integer</td><td>na</td><td>3</td><td>Number of axles (max across all units)</td></tr>
<tr><td><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Adouble6x4</a></td><td>paramSet</td><td>redeclare parameter Vehicles...</td><td>&nbsp;</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>curve_radius</td><td>12.5</td><td>[m]</td></tr>
<tr><td><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</a></td><td>curve_start</td><td>50</td><td>Distance along path when curve starts [m]</td></tr>
</table>
<h3>Connectors</h3>
<table summary="Connectors" class="ModelicaTableConnectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>LSSP</td><td>Low speed swept path</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>valid</td><td>True if Yaw damping was successfully calculated</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FS</td><td>Low speed swept path</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>RS</td><td>Low speed swept path</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>FSRigth</td><td>Low speed swept path</td></tr>
<tr><td>output <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>RSRigth</td><td>Low speed swept path</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span class="ModelicaKeyword">model</span> TestLowSpeedCurveFhRh <span class="ModelicaComment">&quot;Test low speed curve with front and rear overhang&quot;</span>
  <span class="ModelicaKeyword">extends </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;

  <span class="ModelicaKeyword">parameter </span>Integer nu=4 <span class="ModelicaComment">&quot;Number of units&quot;</span>;
  <span class="ModelicaKeyword">parameter </span>Integer na=3 <span class="ModelicaComment">&quot;Number of axles (max across all units)&quot;</span>;

  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> LSSP <span class="ModelicaComment">&quot;Low speed swept path&quot;</span>;
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPositionRight[nu,na](n0=0, s0=
        vehicle.vehicle.rx0) <span class="ModelicaComment">&quot;Path position of right side wheels&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=5);
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg[nu,na](radius=curve_radius,
      s_start=curve_start);
  <a href="OpenPBS_VehicleModels.html#OpenPBS.VehicleModels.DirectionInput"
>VehicleModels.DirectionInput</a> vehicle(paramSet=paramSet,
    nu=nu,
    na=na);
  <span class="ModelicaKeyword">replaceable </span><span class="ModelicaKeyword">parameter </span><a href="OpenPBS_Vehicles_Vehicles.html#OpenPBS.Vehicles.Vehicles.Adouble6x4"
>Vehicles.Vehicles.Adouble6x4</a> paramSet <span class="ModelicaKeyword">constrainedby </span>
    Vehicles.Base.VehicleModel;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression3[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vy)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression4[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.pz)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression5[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vx)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition"
>Components.PathPosition</a> pathPositionLeft[nu,na](s0=vehicle.vehicle.rx0,
      n0=paramSet.w) <span class="ModelicaComment">&quot;Path position of left side wheels&quot;</span>;
  <a href="OpenPBS_Components.html#OpenPBS.Components.Curve90deg"
>Components.Curve90deg</a> curve90deg1[nu,na](radius=
        curve_radius, s_start=curve_start);
  <a href="OpenPBS_Components.html#OpenPBS.Components.MotionOffset"
>Components.MotionOffset</a> motionOffsetLeft[nu,na](x_offset=
        vehicle.vehicle.Lcog, y_offset=paramSet.w/2)
    <span class="ModelicaComment">&quot;Position and velocity of left wheels on all axles&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression7[nu,
    na](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.wz)*<span class="ModelicaFunction">ones</span>(1, na));
  <a href="OpenPBS_Components.html#OpenPBS.Components.MotionOffset"
>Components.MotionOffset</a> motionOffsetRight[nu,na](x_offset=
        vehicle.vehicle.Lcog, y_offset=-paramSet.w/2)
    <span class="ModelicaComment">&quot;Position and velocity of right wheels on all axles&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Manoeuvres.Blocks.RollingMax</a> rollingMax(n1=nu, n2=na)
    <span class="ModelicaComment">&quot;Maximum of all left wheel offsets&quot;</span>;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> curve_radius=12.5;
  <span class="ModelicaKeyword">parameter </span><a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</a> curve_start=50
    <span class="ModelicaComment">&quot;Distance along path when curve starts&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</a> valid
    <span class="ModelicaComment">&quot;True if Yaw damping was successfully calculated&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.GreaterThreshold"
>Modelica.Blocks.Logical.GreaterThreshold</a> greaterThan(threshold=
        curve_start + curve_radius*Modelica.Constants.pi/2);
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Manoeuvres.Blocks.RollingMax</a> rollingMax1(n1=nu, n2=na);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain[nu,na](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.LessThreshold"
>Modelica.Blocks.Logical.LessThreshold</a> lessThan(threshold=0.05);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.And"
>Modelica.Blocks.Logical.And</a> and1;
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition90degCurve"
>Components.PathPosition90degCurve</a> overHangCalculatorLeft[nu,2](
    radius=curve_radius,
    s_start=curve_start,
    n0=paramSet.w,
    y_offset=paramSet.w/2,
    s0=vehicle.vehicle.rx0_oh,
    nu=paramSet.nu,
    na=paramSet.na,
    x_offset=vehicle.vehicle.Lcog_oh);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression1[nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vx)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression2[nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vy)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression6[nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.wz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression8[nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.pz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Manoeuvres.Blocks.RollingMax</a> rollingMax2(n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all left wheel offsets&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FS <span class="ModelicaComment">&quot;Low speed swept path&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Manoeuvres.Blocks.RollingMax</a> rollingMax3(n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all left wheel offsets&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> RS <span class="ModelicaComment">&quot;Low speed swept path&quot;</span>;
  <a href="OpenPBS_Components.html#OpenPBS.Components.PathPosition90degCurve"
>Components.PathPosition90degCurve</a> overHangCalculatorLeft1[nu,2](
    radius=curve_radius,
    s_start=curve_start,
    s0=vehicle.vehicle.rx0_oh,
    nu=paramSet.nu,
    na=paramSet.na,
    x_offset=vehicle.vehicle.Lcog_oh,
    y_offset=-paramSet.w/2,
    n0=0);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression9[nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vx)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression10[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.vy)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression11[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.wz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression12[
                                                         nu,2](y=<span class="ModelicaFunction">matrix</span>(vehicle.vehicle.pz)
        *<span class="ModelicaFunction">ones</span>(1, 2));
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Manoeuvres.Blocks.RollingMax</a> rollingMax4(n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all left wheel offsets&quot;</span>;
  <a href="OpenPBS_Manoeuvres_Blocks.html#OpenPBS.Manoeuvres.Blocks.RollingMax"
>Manoeuvres.Blocks.RollingMax</a> rollingMax5(n1=nu, n2=1)
    <span class="ModelicaComment">&quot;Maximum of all left wheel offsets&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> FSRigth <span class="ModelicaComment">&quot;Low speed swept path&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> RSRigth <span class="ModelicaComment">&quot;Low speed swept path&quot;</span>;
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain1[nu,1](k=-1);
  <a href="file:///C:/Program%20Files%20(x86)/Dymola%202018/Modelica/Library/Modelica%203.2.2/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain2[nu,1](k=-1);
<span class="ModelicaKeyword">equation </span>
  <span class="ModelicaFunction">connect</span>(pathPositionRight.s_out, curve90deg.u);
  <span class="ModelicaFunction">connect</span>(curve90deg.y,pathPositionRight. c);
  <span class="ModelicaFunction">connect</span>(vehicle.vx_in,const. y);
  <span class="ModelicaFunction">connect</span>(pathPositionLeft.s_out, curve90deg1.u);
  <span class="ModelicaFunction">connect</span>(curve90deg1.y,pathPositionLeft. c);
  <span class="ModelicaFunction">connect</span>(realExpression4.y,pathPositionLeft. pz);
  <span class="ModelicaFunction">connect</span>(realExpression5.y, motionOffsetLeft.vx);
  <span class="ModelicaFunction">connect</span>(realExpression3.y, motionOffsetLeft.vy);
  <span class="ModelicaFunction">connect</span>(realExpression7.y, motionOffsetLeft.wz);
  <span class="ModelicaFunction">connect</span>(motionOffsetLeft.vx_offset, pathPositionLeft.vx);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vy_offset, pathPositionRight.vy);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vx_offset, pathPositionRight.vx);
  <span class="ModelicaFunction">connect</span>(pathPositionLeft.n_out, rollingMax.u);
  <span class="ModelicaFunction">connect</span>(rollingMax.y, LSSP);
  <span class="ModelicaFunction">connect</span>(pathPositionRight[1, 1].pp_out, vehicle.front_direction_in);
  <span class="ModelicaFunction">connect</span>(pathPositionRight.pz, realExpression4.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetLeft.vy_offset, pathPositionLeft.vy);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vx, realExpression5.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.vy, realExpression3.y);
  <span class="ModelicaFunction">connect</span>(motionOffsetRight.wz, realExpression7.y);
  <span class="ModelicaFunction">connect</span>(greaterThan.u, pathPositionRight[<span class="ModelicaKeyword">end</span>, 1].s_out);
  <span class="ModelicaFunction">connect</span>(gain.y, rollingMax1.u);
  <span class="ModelicaFunction">connect</span>(gain.u, pathPositionRight.n_out);
  <span class="ModelicaFunction">connect</span>(rollingMax1.y, lessThan.u);
  <span class="ModelicaFunction">connect</span>(lessThan.y, and1.u1);
  <span class="ModelicaFunction">connect</span>(greaterThan.y, and1.u2);
  <span class="ModelicaFunction">connect</span>(and1.y, valid);
  <span class="ModelicaFunction">connect</span>(realExpression1.y, overHangCalculatorLeft.vx);
  <span class="ModelicaFunction">connect</span>(realExpression2.y, overHangCalculatorLeft.vy);
  <span class="ModelicaFunction">connect</span>(realExpression6.y, overHangCalculatorLeft.wz);
  <span class="ModelicaFunction">connect</span>(realExpression8.y, overHangCalculatorLeft.pz);
  <span class="ModelicaFunction">connect</span>(rollingMax2.y,FS);
  <span class="ModelicaFunction">connect</span>(overHangCalculatorLeft[:, 1].n_out, rollingMax2.u[:, rollingMax2.n2]);
  <span class="ModelicaFunction">connect</span>(rollingMax3.y, RS);
  <span class="ModelicaFunction">connect</span>(overHangCalculatorLeft[:, 2].n_out, rollingMax3.u[:, 1]);
  <span class="ModelicaFunction">connect</span>(realExpression9.y, overHangCalculatorLeft1.vx);
  <span class="ModelicaFunction">connect</span>(realExpression10.y, overHangCalculatorLeft1.vy);
  <span class="ModelicaFunction">connect</span>(realExpression11.y, overHangCalculatorLeft1.wz);
  <span class="ModelicaFunction">connect</span>(realExpression12.y, overHangCalculatorLeft1.pz);
  <span class="ModelicaFunction">connect</span>(rollingMax4.y, FSRigth);
  <span class="ModelicaFunction">connect</span>(rollingMax5.y, RSRigth);
  <span class="ModelicaFunction">connect</span>(gain1.y, rollingMax4.u);
  <span class="ModelicaFunction">connect</span>(overHangCalculatorLeft1[:, 2].n_out, gain2[:, 1].u);
  <span class="ModelicaFunction">connect</span>(gain2.y, rollingMax5.u);
  <span class="ModelicaFunction">connect</span>(gain1[:, 1].u, overHangCalculatorLeft1[:, 1].n_out);
<span class="ModelicaKeyword">end </span>TestLowSpeedCurveFhRh;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Sun Jul 16 11:17:03 2017.
</address>
</body>
</html>
